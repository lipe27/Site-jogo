:root { --primary: #4CAF50; --gold: #FFD700; --glass: rgba(255, 255, 255, 0.2); --border: rgba(255, 255, 255, 0.4); }
body { margin: 0; overflow: hidden; background: #87CEEB; font-family: 'Montserrat', sans-serif; user-select: none; }

.game-header { position: absolute; top: 20px; left: 20px; right: 20px; display: flex; justify-content: space-between; z-index: 10; pointer-events: none; }
.user-stats, .coin-pill { background: var(--glass); backdrop-filter: blur(15px); border: 1px solid var(--border); padding: 12px 25px; border-radius: 40px; color: white; pointer-events: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.15); font-size: 18px; font-weight: 900;}
.xp-container { width: 150px; height: 10px; background: rgba(0,0,0,0.3); border-radius: 5px; margin-top: 8px; }
.xp-fill { width: 0%; height: 100%; background: linear-gradient(90deg, #4CAF50, #81C784); transition: width 0.6s; }

#mission-board { position: absolute; top: 20px; right: 20px; width: 180px; background: rgba(121, 85, 72, 0.9); backdrop-filter: blur(5px); border: 4px solid #5d4037; border-radius: 15px; padding: 10px; color: white; text-align: center; z-index: 50; box-shadow: 0 10px 20px rgba(0,0,0,0.3); pointer-events: auto; }
#mission-board h4 { margin: 0; font-size: 12px; color: #FFD700; }
#mission-board p { margin: 10px 0; font-size: 14px; font-weight: bold; }
#btn-mission { background: #4CAF50; color: white; border: none; padding: 5px 15px; border-radius: 10px; font-weight: bold; cursor: pointer; width: 100%; transition: 0.3s; }
#btn-mission:disabled { background: #9e9e9e; cursor: not-allowed; }
#btn-mission:hover:not(:disabled) { transform: scale(1.05); }

.side-panel { position: absolute; top: 90px; left: 20px; display: flex; flex-direction: column; gap: 15px; pointer-events: auto; z-index: 10; }
.silo-status { background: var(--glass); backdrop-filter: blur(15px); padding: 10px 20px; border-radius: 20px; color: white; border: 1px solid var(--border); font-size: 14px; font-weight: 900; }
.inventory-list { background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border-radius: 15px; padding: 10px; color: white; font-weight: bold; border: 1px solid rgba(255,255,255,0.4); display: flex; flex-direction: column; gap: 8px; }
.btn-market { background: linear-gradient(135deg, #1E88E5, #1565C0); border: none; padding: 15px; border-radius: 20px; color: white; font-weight: 900; cursor: pointer; box-shadow: 0 6px 20px rgba(30, 136, 229, 0.4); transition: 0.3s; border: 2px solid white; }
.btn-market:hover { transform: scale(1.05); }

/* BOLHA DO HAY DAY */
#bubble-menu { position: absolute; display: none; gap: 15px; background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(10px); padding: 15px; border-radius: 50px; box-shadow: 0 15px 35px rgba(0,0,0,0.3); z-index: 100; transform: translate(-50%, -120%); pointer-events: auto; }
.bubble-item { background: white; border: 3px solid var(--primary); border-radius: 50%; width: 65px; height: 65px; font-size: 28px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: grab; transition: 0.2s; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
.bubble-item.locked { opacity: 0.5; filter: grayscale(1); cursor: not-allowed; }
.bubble-item small { font-size: 11px; font-weight: 900; margin-top: -2px; color: #555; }
.bubble-item:active { cursor: grabbing; transform: scale(1.2) translateY(-10px); }

/* MODO ARQUITETO (NOVO) */
#placement-ui { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); display: flex; gap: 20px; z-index: 100; }
#placement-ui.hidden { display: none !important; }
.place-btn { padding: 15px 30px; border-radius: 30px; border: none; font-size: 16px; font-weight: 900; cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.3); transition: 0.2s; color: white; }
.place-btn.cancel { background: #e74c3c; border: 2px solid #c0392b; }
.place-btn.confirm { background: #2ecc71; border: 2px solid #27ae60; }
.place-btn.confirm:disabled { background: #95a5a6; border-color: #7f8c8d; cursor: not-allowed; }
.place-btn:hover:not(:disabled) { transform: translateY(-5px); }

/* MERCADO */
#market-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 1000; display: flex; align-items: center; justify-content: center; transition: opacity 0.3s; }
.modal-hidden { opacity: 0; pointer-events: none; }
.modal-content { background: #fdf6e3; padding: 25px; border-radius: 30px; border: 5px solid #d4a373; width: 90%; max-width: 850px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); max-height: 90vh; overflow-y: auto; }
.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid #d4a373; padding-bottom: 15px; margin-bottom: 20px; color: #5d4037; position: sticky; top: 0; background: #fdf6e3; z-index: 2; }
.close-btn { background: #f44336; color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 20px; font-weight: bold; cursor: pointer; }
.market-balance { background: #4CAF50; color: white; padding: 8px 20px; border-radius: 20px; font-weight: 900; font-size: 18px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); border: 2px solid #388e3c; }
.market-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.sell-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; }
@media (max-width: 768px) { .market-grid { grid-template-columns: 1fr; } }
.market-section { background: white; padding: 15px; border-radius: 15px; border: 2px solid #e0e0e0; }
.market-section h3 { margin-top: 0; color: #388e3c; font-size: 16px; text-align: center; }
.market-item { display: block; width: 100%; margin-bottom: 10px; padding: 10px; background: #e8f5e9; border: 2px solid #a5d6a7; border-radius: 10px; font-weight: bold; color: #2e7d32; cursor: pointer; transition: 0.2s; font-size: 12px; }
.market-item:hover { background: #c8e6c9; transform: scale(1.02); }
.market-item.upgrade { background: #fff3e0; border-color: #ffcc80; color: #e65100; }
.market-item.buy-seed { background: #f3e5f5; border-color: #ce93d8; color: #6a1b9a; }

.floating-feedback { position: absolute; pointer-events: none; color: #FFF; font-weight: 900; font-size: 26px; animation: popUp 1s forwards; z-index: 2000; text-shadow: 0 4px 10px rgba(0,0,0,0.8); }
@keyframes popUp { 0% { transform: translateY(0) scale(0.5); opacity: 0; } 20% { transform: translateY(-20px) scale(1.2); opacity: 1; } 100% { transform: translateY(-100px) scale(1); opacity: 0; } }
#loader { position: fixed; inset: 0; background: #0B1D3A; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-weight: 900; transition: 0.5s; }
.spinner { width: 50px; height: 50px; border: 5px solid rgba(255,255,255,0.3); border-top-color: #FFF; border-radius: 50%; animation: spin 1s infinite linear; margin-bottom: 20px; }
@keyframes spin { to { transform: rotate(360deg); } }